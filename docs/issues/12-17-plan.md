# Plan for Issues 12-17

This document outlines the detailed plan for implementing issues 12 through 17.

## Issue 12: Add simple sitemap (`sitemap.xml`)

1.  **`config.yaml`:** Add a new field `site_url`.
2.  **`jaring.py` - `main()`:** After all pages are generated, call a new function `generate_sitemap(posts, output_path, config['site_url'])`.
3.  **`jaring.py` - New function `generate_sitemap(posts, output_path, site_url)`:**
    *   Create an XML string for the sitemap.
    *   Iterate through posts to build a list of URLs.
    *   Save the XML string to `output/sitemap.xml`.

## Issue 13: Handle YouTube iframes

1.  **`jaring.py` - `parse_file()`:** Before markdown conversion, pass content through a new function `convert_youtube_links_to_iframes(content)`.
2.  **`jaring.py` - New function `convert_youtube_links_to_iframes(content)`:**
    *   Use a regular expression to find YouTube URLs.
    *   Replace the URLs with the standard YouTube iframe embed code.

## Issue 14: Handle Obsidian-style quotes

1.  **`jaring.py` - `parse_file()`:** Before markdown conversion, pass content through a new function `parse_obsidian_quotes(content)`.
2.  **`jaring.py` - New function `parse_obsidian_quotes(content)`:**
    *   Use a regular expression to find `> [!TYPE]` syntax.
    *   Replace with `<div class="callout TYPE">...</div>`.
3.  **`templates/style.css`:** Add CSS for `.callout` classes.

## Issue 15: Improve `!img{}` tag

1.  **`jaring.py` - `generate_image_from_text()`:**
    *   Import and use the `textwrap` module to wrap text at 30 characters.
    *   Increase the canvas padding to make the image bigger.
    *   Adjust the `pictex` layout to center the author's name.

## Issue 16: Configurable Author Name

1.  **`config.yaml`:** Add a new field `image_author_name`.
2.  **`jaring.py` - `main()`:** Read the new config value.
3.  **`jaring.py` - `parse_file()` & `generate_image_from_text()`:** Pass the author name down as a parameter and use it in the generated image.

## Issue 17: Configuration File Handling

1.  **`jaring.py` - `main()`:**
    *   Modify `argparse` to make the `--config` flag optional.
    *   Add logic to look for `jaring.yaml` in the current directory by default.
    *   Fall back to `config.yaml` if `jaring.yaml` is not found.
2.  **File System:** Rename `config.yaml` to `jaring.yaml`.

## Final Step: Update README

*   After all issues are implemented, update `README.md` to document the new features and the new configuration file convention.